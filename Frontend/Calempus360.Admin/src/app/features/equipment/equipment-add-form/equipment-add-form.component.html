<div
  class="card bg-base-100 rounded-box flex h-full flex-col items-center justify-center shadow-lg"
>
  <h1 class="card-title mt-4">Add Equipment Type</h1>
  <form
    [formGroup]="equipmentForm"
    (ngSubmit)="save()"
    class="card-body flex w-64 flex-col space-y-4"
  >
    <input
      [ngClass]="{
        'border-error':
          equipmentForm.controls['name'].touched &&
          equipmentForm.controls['name'].invalid,
        'border-success':
          equipmentForm.controls['name'].touched &&
          equipmentForm.controls['name'].valid,
      }"
      type="text"
      placeholder="Equipment Name"
      class="input focus:ring-none focus:border-secondary focus:outline-none"
      formControlName="name"
    />
    <input
      [ngClass]="{
        'border-error':
          equipmentForm.controls['code'].touched &&
          equipmentForm.controls['code'].invalid,
        'border-success':
          equipmentForm.controls['code'].touched &&
          equipmentForm.controls['code'].valid,
      }"
      type="text"
      placeholder="Equipment Code"
      class="input focus:ring-none focus:border-secondary focus:outline-none"
      formControlName="code"
    />
    <input
      [ngClass]="{
        'border-error':
          equipmentForm.controls['brand'].touched &&
          equipmentForm.controls['brand'].invalid,
        'border-success':
          equipmentForm.controls['brand'].touched &&
          equipmentForm.controls['brand'].valid,
      }"
      type="text"
      placeholder="Equipment Brand"
      class="input focus:ring-none focus:border-secondary focus:outline-none"
      formControlName="brand"
    />
    <input
      [ngClass]="{
        'border-error':
          equipmentForm.controls['model'].touched &&
          equipmentForm.controls['model'].invalid,
        'border-success':
          equipmentForm.controls['model'].touched &&
          equipmentForm.controls['model'].valid,
      }"
      type="text"
      placeholder="Equipment Model"
      class="input focus:ring-none focus:border-secondary focus:outline-none"
      formControlName="model"
    />
    <input
      [ngClass]="{
        'border-error':
          equipmentForm.controls['description'].touched &&
          equipmentForm.controls['description'].invalid,
        'border-success':
          equipmentForm.controls['description'].touched &&
          equipmentForm.controls['description'].valid,
      }"
      type="text"
      placeholder="Equipment Description"
      class="input focus:ring-none focus:border-secondary focus:outline-none"
      formControlName="description"
    />
    <select
      [ngClass]="{
        'border-error':
          equipmentForm.controls['equipmentTypeId'].touched &&
          equipmentForm.controls['equipmentTypeId'].invalid,
        'border-success':
          equipmentForm.controls['equipmentTypeId'].touched &&
          equipmentForm.controls['equipmentTypeId'].valid,
      }"
      class="select focus:outline-none"
      placeholder="Choose a site"
      formControlName="equipmentTypeId"
    >
      @if (equipmentTypes$ | async; as equipmentTypes) {
        @for (
          equipmentType of equipmentTypes;
          track equipmentType?.id;
          let i = $index
        ) {
          <option [value]="equipmentType.id">{{ equipmentType.name }}</option>
        }
      }
    </select>
    <div class="flex justify-between space-x-4">
      <button
        (click)="cancel()"
        type="reset"
        class="rounded-box h-8 cursor-pointer border border-red-400 px-3 py-1 text-red-400 hover:bg-red-100 hover:text-red-500"
      >
        Cancel
      </button>
      <button
        type="submit"
        [disabled]="!equipmentForm.valid"
        class="rounded-box h-8 cursor-pointer border border-blue-400 px-3 py-1 text-blue-400 hover:bg-blue-100 hover:text-blue-500 disabled:cursor-not-allowed disabled:opacity-50"
      >
        Save
      </button>
    </div>
  </form>
</div>
